[{"path":"https://katsevich-lab.github.io/sceptre/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 ondisc authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://katsevich-lab.github.io/sceptre/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Timothy Barry. Author, maintainer. Songcheng Dai. Contributor. Yixuan Qiu. Contributor. Eugene Katsevich. Author, thesis advisor.","code":""},{"path":"https://katsevich-lab.github.io/sceptre/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Barry T, Katsevich E (2024). ondisc: Algorithms data structures large single-cell expression matrices. R package version 0.1.0, https://timothy-barry.github.io/sceptre-book/, https://timothy-barry.github.io/ondisc/.","code":"@Manual{,   title = {ondisc: Algorithms and data structures for large single-cell expression matrices},   author = {Timothy Barry and Eugene Katsevich},   year = {2024},   note = {R package version 0.1.0, https://timothy-barry.github.io/sceptre-book/},   url = {https://timothy-barry.github.io/ondisc/}, }"},{"path":"https://katsevich-lab.github.io/sceptre/index.html","id":"ondisc","dir":"","previous_headings":"","what":"ondisc","title":"Algorithms and data structures for large single-cell expression matrices","text":"Single-cell datasets growing size, posing challenges well opportunities genomics researchers. ondisc R package computing large-scale single-cell data. ondisc enables users analyze single-cell data --core laptop distributed across multiple nodes computing cluster. settings ondisc requires gigabytes memory, even input data tens gigabytes size. ondisc oriented toward single-cell differential expression, single-cell co-expresssion, single-cell CRISPR screen analyses. ondisc powered several novel, highly efficient algorithms large, sparse matrices. ondisc companion package sceptre, R package statistically rigorous user-friendly single-cell CRISPR screen analysis. Although ondisc sceptre work best conjunction, ondisc can used independently sceptre (conversely, sceptre can used independently ondisc).","code":""},{"path":"https://katsevich-lab.github.io/sceptre/index.html","id":"get-started","dir":"","previous_headings":"","what":"Get started","title":"Algorithms and data structures for large single-cell expression matrices","text":"recommend getting started reading ondisc vignette. Please submit issues ondisc Github page.","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/create_odm_from_cellranger.html","id":null,"dir":"Reference","previous_headings":"","what":"Create ODM from Cell Ranger — create_odm_from_cellranger","title":"Create ODM from Cell Ranger — create_odm_from_cellranger","text":"create_odm_from_cellranger() initializes odm object output one calls cellranger count. number odm objects returned corresponds number modalities dataset.","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/create_odm_from_cellranger.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create ODM from Cell Ranger — create_odm_from_cellranger","text":"","code":"create_odm_from_cellranger(   directories_to_load,   directory_to_write,   write_cellwise_covariates = TRUE,   chunk_size = 1000L,   compression_level = 3L,   grna_target_data_frame = NULL )"},{"path":"https://katsevich-lab.github.io/sceptre/reference/create_odm_from_cellranger.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create ODM from Cell Ranger — create_odm_from_cellranger","text":"directories_to_load character vector directories containing output one calls cellranger count. directory contain files \"matrix.mtx.gz\" \"features.tsv.gz\" (optionally \"barcodes.tsv.gz\"). directory_to_write string indicating directory write backing .odm files write_cellwise_covariates (optional; default TRUE) boolean indicating whether write cellwise covariates disk (TRUE) addition returning cellwise covariates data frame chunk_size (optional; default 1000L) integer specifying chunk size use store data backing HDF5 file compression_level (optional; default 3L) integer specifying compression level use store data backing HDF5 file grna_target_data_frame (optional) data frame mapping gRNA ID target. Relevant CRISPR modality present within data. (See note.)","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/create_odm_from_cellranger.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create ODM from Cell Ranger — create_odm_from_cellranger","text":"list containing odm object(s) cellwise covariates.","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/create_odm_from_cellranger.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Create ODM from Cell Ranger — create_odm_from_cellranger","text":"grna_target_data_frame relevant CRISPR screen data (.e., data \"CRISPR Guide Capture\" modality present). single-cell CRISPR screens, gRNAs delivered cells via viral vector. recent single-cell CRISPR screens involve special design viral vector harbors multiple gRNAs. example, Replogle 2022 conducted screen viral vector contained two gRNAs, targeting site. screens, users may wish \"collapse\" gRNA count matrix summing UMI counts gRNAs contained vector. , users can pass argument grna_target_data_frame, data frame containing two columns: grna_id vector_id. grna_id coincide gRNA IDs contained within features.tsv file, vector_id string indicating vector given gRNA ID belongs. expression vectors gRNAs contained within vector summed.","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/create_odm_from_cellranger.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create ODM from Cell Ranger — create_odm_from_cellranger","text":"","code":"library(sceptredata) directories_to_load <- paste0(  system.file(\"extdata\", package = \"sceptredata\"),  \"/highmoi_example/gem_group_\", c(1, 2) ) directory_to_write <- tempdir() out_list <- create_odm_from_cellranger(   directories_to_load = directories_to_load,   directory_to_write = directory_to_write, ) #> Round 1/2 processing of the input files. #> \tProcessing file 1 of 2. #> \tProcessing file 2 of 2. #> Round 2/2 processing of the input files. #> \tProcessing file 1 of 2. Computing cellwise covariates. Writing to disk. #> \tProcessing file 2 of 2. Computing cellwise covariates. Writing to disk."},{"path":"https://katsevich-lab.github.io/sceptre/reference/dim-odm-method.html","id":null,"dir":"Reference","previous_headings":"","what":"dim — dim,odm-method","title":"dim — dim,odm-method","text":"Returns dimension (.e., number features number cells) odm.","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/dim-odm-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"dim — dim,odm-method","text":"","code":"# S4 method for odm dim(x)"},{"path":"https://katsevich-lab.github.io/sceptre/reference/dim-odm-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"dim — dim,odm-method","text":"x object class odm","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/dim-odm-method.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"dim — dim,odm-method","text":"dimension odm","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/dim-odm-method.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"dim — dim,odm-method","text":"Users also can call ncol() nrow() return number rows (.e., features) columns (.e., cells), respectively, odm.","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/dim-odm-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"dim — dim,odm-method","text":"","code":"library(sceptredata) directories_to_load <- paste0(  system.file(\"extdata\", package = \"sceptredata\"),  \"/highmoi_example/gem_group_\", c(1, 2) ) directory_to_write <- tempdir() out_list <- create_odm_from_cellranger(   directories_to_load = directories_to_load,   directory_to_write = directory_to_write, ) #> Round 1/2 processing of the input files. #> \tProcessing file 1 of 2. #> \tProcessing file 2 of 2. #> Round 2/2 processing of the input files. #> \tProcessing file 1 of 2. Computing cellwise covariates. Writing to disk. #> \tProcessing file 2 of 2. Computing cellwise covariates. Writing to disk. gene_odm <- out_list$gene # return the dimension, number of rows, and number of columns dim(gene_odm) #> [1]   526 45919 nrow(gene_odm) #> [1] 526 ncol(gene_odm) #> [1] 45919"},{"path":"https://katsevich-lab.github.io/sceptre/reference/dimnames-odm-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Rownames — dimnames,odm-method","title":"Rownames — dimnames,odm-method","text":"Rownames","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/dimnames-odm-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rownames — dimnames,odm-method","text":"","code":"# S4 method for odm dimnames(x)"},{"path":"https://katsevich-lab.github.io/sceptre/reference/dimnames-odm-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rownames — dimnames,odm-method","text":"x object class odm","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/dimnames-odm-method.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rownames — dimnames,odm-method","text":"dimnames odm","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/initialize_odm_from_backing_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize an ondisc matrix — initialize_odm_from_backing_file","title":"Initialize an ondisc matrix — initialize_odm_from_backing_file","text":"Initializes object class odm backing .odm file.","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/initialize_odm_from_backing_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize an ondisc matrix — initialize_odm_from_backing_file","text":"","code":"initialize_odm_from_backing_file(odm_file)"},{"path":"https://katsevich-lab.github.io/sceptre/reference/initialize_odm_from_backing_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialize an ondisc matrix — initialize_odm_from_backing_file","text":"odm_file file path backing .odm file","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/initialize_odm_from_backing_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialize an ondisc matrix — initialize_odm_from_backing_file","text":"object class odm","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/initialize_odm_from_backing_file.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Initialize an ondisc matrix — initialize_odm_from_backing_file","text":"function portable: one can create .odm file (via create_odm_from_cellranger()), transfer .odm file another computer, load .odm file (via initialize_odm_from_backing_file()) second computer.","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/initialize_odm_from_backing_file.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Initialize an ondisc matrix — initialize_odm_from_backing_file","text":"","code":"library(sceptredata) directories_to_load <- paste0(  system.file(\"extdata\", package = \"sceptredata\"),  \"/highmoi_example/gem_group_\", c(1, 2) ) directory_to_write <- tempdir() out_list <- create_odm_from_cellranger(   directories_to_load = directories_to_load,   directory_to_write = directory_to_write, ) #> Round 1/2 processing of the input files. #> \tProcessing file 1 of 2. #> \tProcessing file 2 of 2. #> Round 2/2 processing of the input files. #> \tProcessing file 1 of 2. Computing cellwise covariates. Writing to disk. #> \tProcessing file 2 of 2. Computing cellwise covariates. Writing to disk. gene_odm <- out_list$gene gene_odm #> An object of class odm with the following attributes: #> \t• 526 features #> \t• 45919 cells #> \t• Backing file: /var/folders/7v/5sqjgh8j28lgf8qx3gbtq1h00000gp/T//RtmpKvCTOH/gene.odm  # delete the gene_odm object rm(gene_odm)  # reinitialize the gene_odm object gene_odm <- initialize_odm_from_backing_file(   paste0(tempdir(), \"/gene.odm\") ) gene_odm #> An object of class odm with the following attributes: #> \t• 526 features #> \t• 45919 cells #> \t• Backing file: /var/folders/7v/5sqjgh8j28lgf8qx3gbtq1h00000gp/T//RtmpKvCTOH/gene.odm"},{"path":"https://katsevich-lab.github.io/sceptre/reference/ondisc-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ondisc: Algorithms and data structures for large single-cell expression matrices — ondisc-package","title":"ondisc: Algorithms and data structures for large single-cell expression matrices — ondisc-package","text":"Single-cell datasets growing size, posing challenges well opportunities genomics researchers. `ondisc` R package computing large-scale single-cell data. `ondisc` enables analysis single-cell data --core laptop distributed across multiple nodes computing cluster. settings `ondisc` requires gigabytes memory, even input data tens gigabytes size. `ondisc` oriented toward single-cell differential expression, single-cell co-expresssion, single-cell CRISPR screen analyses.","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/ondisc-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ondisc: Algorithms and data structures for large single-cell expression matrices — ondisc-package","text":"Maintainer: Timothy Barry tbarry@hsph.harvard.edu (ORCID) Authors: Eugene Katsevich ekatsevi@wharton.upenn.edu [thesis advisor] contributors: Songcheng Dai [contributor] Yixuan Qiu [contributor]","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/ondisc-package.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ondisc: Algorithms and data structures for large single-cell expression matrices — ondisc-package","text":"","code":"# initialize odm objects from Cell Ranger output; also, compute the cellwise covariates library(sceptredata) directories_to_load <- paste0(  system.file(\"extdata\", package = \"sceptredata\"),  \"/highmoi_example/gem_group_\", c(1, 2) ) directory_to_write <- tempdir() out_list <- create_odm_from_cellranger(   directories_to_load = directories_to_load,   directory_to_write = directory_to_write, ) #> Round 1/2 processing of the input files. #> \tProcessing file 1 of 2. #> \tProcessing file 2 of 2. #> Round 2/2 processing of the input files. #> \tProcessing file 1 of 2. Computing cellwise covariates. Writing to disk. #> \tProcessing file 2 of 2. Computing cellwise covariates. Writing to disk.  # extract the odm corresponding to the gene modality gene_odm <- out_list$gene gene_odm #> An object of class odm with the following attributes: #> \t• 526 features #> \t• 45919 cells #> \t• Backing file: /var/folders/7v/5sqjgh8j28lgf8qx3gbtq1h00000gp/T//RtmpKvCTOH/gene.odm  # obtain dimension information dim(gene_odm) #> [1]   526 45919 nrow(gene_odm) #> [1] 526 ncol(gene_odm) #> [1] 45919  # obtain rownames (i.e., the feature IDs) rownames(gene_odm) |> head() #> [1] \"ENSG00000069275\" \"ENSG00000117222\" \"ENSG00000117266\" \"ENSG00000117280\" #> [5] \"ENSG00000133059\" \"ENSG00000133065\"  # extract row into memory, first by integer and then by string expression_vector_1 <- gene_odm[10,] expression_vector_2 <- gene_odm[\"ENSG00000135046\",]  # delete the gene_odm object rm(gene_odm)  # reinitialize the gene_odm object gene_odm <- initialize_odm_from_backing_file(   paste0(tempdir(), \"/gene.odm\") ) gene_odm #> An object of class odm with the following attributes: #> \t• 526 features #> \t• 45919 cells #> \t• Backing file: /var/folders/7v/5sqjgh8j28lgf8qx3gbtq1h00000gp/T//RtmpKvCTOH/gene.odm"},{"path":"https://katsevich-lab.github.io/sceptre/reference/rownames-odm-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Rownames — dimnames,odm-method","title":"Rownames — dimnames,odm-method","text":"Return rownames (.e., feature IDs) odm","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/rownames-odm-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rownames — dimnames,odm-method","text":"","code":"# S4 method for odm dimnames(x)"},{"path":"https://katsevich-lab.github.io/sceptre/reference/rownames-odm-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rownames — dimnames,odm-method","text":"x object class odm","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/rownames-odm-method.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rownames — dimnames,odm-method","text":"rownames odm","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/rownames-odm-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rownames — dimnames,odm-method","text":"","code":"library(sceptredata) directories_to_load <- paste0(  system.file(\"extdata\", package = \"sceptredata\"),  \"/highmoi_example/gem_group_\", c(1, 2) ) directory_to_write <- tempdir() out_list <- create_odm_from_cellranger(   directories_to_load = directories_to_load,   directory_to_write = directory_to_write, ) #> Round 1/2 processing of the input files. #> \tProcessing file 1 of 2. #> \tProcessing file 2 of 2. #> Round 2/2 processing of the input files. #> \tProcessing file 1 of 2. Computing cellwise covariates. Writing to disk. #> \tProcessing file 2 of 2. Computing cellwise covariates. Writing to disk. gene_odm <- out_list$gene # return the rownames rownames(gene_odm) |> head() #> [1] \"ENSG00000069275\" \"ENSG00000117222\" \"ENSG00000117266\" \"ENSG00000117280\" #> [5] \"ENSG00000133059\" \"ENSG00000133065\""},{"path":"https://katsevich-lab.github.io/sceptre/reference/sub-odm-ANY-missing-missing-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Load a row of an odm into memory — [,odm,ANY,missing,missing-method","title":"Load a row of an odm into memory — [,odm,ANY,missing,missing-method","text":"operator [ can called odm load row odm memory.","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/sub-odm-ANY-missing-missing-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load a row of an odm into memory — [,odm,ANY,missing,missing-method","text":"","code":"# S4 method for odm,ANY,missing,missing [(x, i, j, drop)"},{"path":"https://katsevich-lab.github.io/sceptre/reference/sub-odm-ANY-missing-missing-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load a row of an odm into memory — [,odm,ANY,missing,missing-method","text":"x object class odm index row load memory. can either integer (specifying integer-based index row load memory) string (specifying row load memory feature ID). j used drop used","code":""},{"path":"https://katsevich-lab.github.io/sceptre/reference/sub-odm-ANY-missing-missing-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load a row of an odm into memory — [,odm,ANY,missing,missing-method","text":"","code":"library(sceptredata) directories_to_load <- paste0(  system.file(\"extdata\", package = \"sceptredata\"),  \"/highmoi_example/gem_group_\", c(1, 2) ) directory_to_write <- tempdir() out_list <- create_odm_from_cellranger(   directories_to_load = directories_to_load,   directory_to_write = directory_to_write, ) #> Round 1/2 processing of the input files. #> \tProcessing file 1 of 2. #> \tProcessing file 2 of 2. #> Round 2/2 processing of the input files. #> \tProcessing file 1 of 2. Computing cellwise covariates. Writing to disk. #> \tProcessing file 2 of 2. Computing cellwise covariates. Writing to disk. gene_odm <- out_list$gene # extract rows into memory by index and ID v1 <- gene_odm[10L,] v2 <- gene_odm[\"ENSG00000173825\",]"}]
